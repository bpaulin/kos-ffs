/////////////////////////////////////////////////////////////////////////////
// Change periapsis.
/////////////////////////////////////////////////////////////////////////////
// Establish new periapsis by performing a burn at apoapsis.
/////////////////////////////////////////////////////////////////////////////
parameter altWanted.

run once lib_math.

local nd is node(
  time:seconds + eta:apoapsis,
  0,
  0,
  dVtoChangePeriapsisAtApoapsis(
    ship:body,
    ship:orbit:periapsis,
    ship:orbit:apoapsis,
    altWanted
  )
).

add nd.
