/////////////////////////////////////////////////////////////////////////////
// Change apoapsis.
/////////////////////////////////////////////////////////////////////////////
// Establish new apoapsis by performing a burn at periapsis.
/////////////////////////////////////////////////////////////////////////////

parameter altWanted.

run once lib_math.

local nd is node(
  time:seconds + eta:periapsis,
  0,
  0,
  dVtoChangeApoapsisAtPeriapsis(
    ship:body,
    ship:orbit:periapsis,
    ship:orbit:apoapsis,
    altWanted
  )
).

add nd.
